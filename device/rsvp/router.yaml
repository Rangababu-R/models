components:
  schemas:
    Device.RsvpRouter:
      x-status: under-review
      x-include:
      - '../common/common.yaml#/components/schemas/Named.Object'
      description: >-
        A container of properties for a RSVP router.
      type: object
      properties:
        rsvp_neighbour:
          type: array
          items:
            $ref: './router.yaml#/components/schemas/Device.RsvpNeighbour'
        rsvp_lsp:
          type: array
          items:
            $ref: './router.yaml#/components/schemas/Device.RsvpLsp'

    Device.RsvpNeighbour:
      description: >-
        Container for emulated BGPv4 peers and routes on a single Ipv4 interface.
      type: object
      required: [ipv4_name]
      properties:
        ipv4_name: 
          description: >-
            The unique name of ipv4 interface on top which neigbour is configured.     
          type: string
          x-constraint:
          - '/components/schemas/Device.Ipv4/properties/name'
        dut_address:
          description: >-
            IPv4 address of the RSVP neighbour.
          type: string
          format: ipv4
          default: 0.0.0.0

    Device.RsvpLsp:
      description: >-
          Container for emulated BGPv4 peers and routes on a single Ipv4 interface.
      type: object
      required: [ipv4_name]
      properties:
        ipv4_name: 
          description: >-
            The unique name of ipv4 interface on top which neigbour is configured.     
          type: string
          x-constraint:
          - '/components/schemas/Device.Ipv4/properties/name'
          - '/components/schemas/Device.LoopbackIpv4/properties/name'
        p2p_ingress:
          description: >-
            This contains the list of P2P ingress Lsps orginating from this endpoint.
          type: array
          items:
            $ref: './p2pingresslsp.yaml#/components/schemas/Device.RsvpRouter.P2pIngressLsp'
        p2p_egress:
          description: >-
            This contains the properties of the RSVP egress endpoint and
            define how the incoming P2P PATH messages should be handled.
          $ref: './p2pegress.yaml#/components/schemas/Device.RsvpRouter.P2pEgress'

  