components:
  schemas:
    Bgp.V4Peer:
      x-status: under-review
      x-include: 
      - './bgp.yaml#/components/schemas/Device.Bgp'
      description: >-
        Configuration for emulated BGPv4 peers and routes.
      type: object
      required: [peer_address]
      properties:
        peer_address:
          description: >-
            IPv4 address of the BGP peer for the session.
          type: string
          format: ipv4
        evpn_ethernet_segments:
          description: >-
            This contains the list of EVPN Ethernet Segments Per BGP Peer for IPv4 Address Family Identifier (AFI).
            Advertises following routes - 
            Type 4 - Ethernet Segment Route.
            Type 1 -  Ethernet Auto-discovery Route (Per ES).
          type: array
          items:
            $ref: './evpn/bgpevpnethernetsegmentv4.yaml#/components/schemas/Bgp.EvpnEthernetSegmentV4'
      
    Bgp.V4Interface:
      description: >-
        Configuration for emulated BGPv4 peers and routes on a single IPv4 interface.
      type: object
      required: [ipv4_name]
      properties:
        ipv4_name: 
          description: >-
            The unique name of the IPv4 or Loopback IPv4 interface
            used as the source IP for this list of BGP peers.
          type: string
          x-constraint:
          - '/components/schemas/Device.Ipv4/properties/name'
          - '/components/schemas/Device.Ipv4Loopback/properties/name'
        peers:
          description: >-
            This contains the list of BGPv4 peers configured on this interface.
          type: array
          items:
            $ref: './bgpv4.yaml#/components/schemas/Bgp.V4Peer'

