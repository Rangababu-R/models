components:
  schemas:
    Device.BgpRouter:
      description: >-
        Container of one or more IPv4 and or IPv6 Bgp peers.
      type: object
      required: [router_id]
      properties:
        router_id:
          description: >-
            The BGP router ID is a unique identifier used by BGP.
            It is a 32-bit value that is often represented by an IPv4 address.
          type: string
          format: ipv4
          default: 0.0.0.0
        ipv4_ifaces:
          description: >-
            This contains an array of references to IPv4 interfaces, 
            each of which will have list of peers to different destinations.   
          type: array
          items:
            $ref: './bgpv4.yaml#/components/schemas/Bgp.V4Iface'
        ipv6_ifaces:
          description: >-
            This contains an array of references to IPv6 interfaces, 
            each of which will have list of peers to different destinations.
          type: array
          items:
            $ref: './bgpv6.yaml#/components/schemas/Bgp.V6Iface'

    Device.Bgp:
      x-include:
      - '../../common/common.yaml#/components/schemas/Named.Object'
      x-status: under-review
      description: >-
        Container for basic emulated BGP peer settings.
      type: object
      required: [as_type, as_number]
      properties:
        as_type:
          description: >-
            The type of BGP autonomous system.
            External BGP is used for BGP links between two or more
            autonomous systems (ebgp)
            Internal BGP is used within a single autonomous system (ibgp).
            BGP property defaults are aligned with this object defined as an
            internal BGP peer.
            If the as_type is specified as ebgp then other properties will
            need to be specified as per an external BGP peer.
          type: string
          enum:
          - ibgp
          - ebgp
        as_number:
          description: >-
            Autonomous System Number (AS number or ASN)
          type: integer
        as_number_width:
          description: >-
            The width in bytes of the as_number values.
            Any as_number values that exceed the width MUST result in an error.
          type: string
          enum:
          - two
          - four
          default: four
        advanced:
          $ref: './bgpadvanced.yaml#/components/schemas/Bgp.Advanced'
        capability:
          $ref: './bgpcapability.yaml#/components/schemas/Bgp.Capability'
        sr_te_policies:
          description: >-
            Segment routing/traffic engineering policies
          type: array
          items:
            $ref: './bgpsrtepolicy.yaml#/components/schemas/Bgp.SrTePolicy'
        v4_routes:
          description: >-
            Emulated BGPv4 routes
          type: array
          items:
            $ref: './bgpv4routerange.yaml#/components/schemas/Bgp.V4Route'
        v6_routes:
          description: >-
            Emulated BGPv6 routes
          type: array
          items:
            $ref: './bgpv6routerange.yaml#/components/schemas/Bgp.V6Route'
