components:
  schemas:
    Bgp.EvpnEthernetSegment:
      x-include:      
      - '../../device.yaml#/components/schemas/Device.Active'
      type: object
      properties:
        esi:
          description: >-
            10-octet Ethernet segment identifier (esi)
            Example - for example for multi-home nonZero ESI '10000000000000000000' .
          type: string          
          format: hex
          default : '00000000000000000000'
        active_mode:
          description: >-
            Single Active or All Active mode Redundancy mode selection for Multi-home.
          type: string
          enum:
          - single_active
          - all_active
          default: all_active
        esi_label:
          description: >-
            The label value to be advertised as ESI Label in ESI Label Extended Community.
            This is included in Ethernet Auto-discovery Routes per ES advertised by a PE, 
          type: integer
          minimum: 0
          maximum: 16777215
          default: 0
        advertise_ad_evi_route:
          description: >-
            Advertise Ethernet Auto-discovery Route per EVI.
          type: boolean
          default: true
        advanced:
          $ref: '../routepathattributes.yaml#/components/schemas/Bgp.RouteAdvanced'
        communities:
          description: >-
            Optional community settings.
          type: array
          items: 
            $ref: '../bgpcommunity.yaml#/components/schemas/Bgp.Community'
        ext_communities:
          description: >-
            Optional Extended Community settings.
          type: array
          items: 
            $ref: '../bgpextcommunity.yaml#/components/schemas/Bgp.ExtCommunity'
        as_path:
          description: >-
            Optional AS PATH settings.
          $ref: '../bgpaspath.yaml#/components/schemas/Bgp.AsPath' 

    Bgp.EvpnEthernetSegment.DfElection:
      description: >-
        The BGP Ethernet Segment DF Election Configuration.
      type: object
      properties:
        election_timer:
          description: >-
            The DF election timer in seconds.
          type: integer
          minimum: 1
          maximum: 300
          default: 3