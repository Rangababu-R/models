components:
  schemas:
    Bgp.V6Peer:
      x-status: under-review
      x-include: 
      - './bgp.yaml#/components/schemas/Device.Bgp'
      description: >-
        Configuration for BGPv6 peer settings and routes.
      type: object
      required: [peer_address]
      properties:
        peer_address:
          description: >-
            IPv6 address of the BGP peer for the session
          type: string
          format: ipv6
        segment_routing:
          $ref: './bgpv6segmentrouting.yaml#/components/schemas/Bgp.V6SegmentRouting'
        evpn_ethernet_segments:
          description: >-            
            This contains the list of EVPN Ethernet Segments Per BGP Peer for IPv4 Address Family Identifier (AFI).

            Each EthernetSegment contains a list of EVIs . 
            Each EVI contains a list of Broadcast Domains. 
            Each Broadcast Domain contains a list of MAC/IP Ranges. 

            <Ethernet Segment, EVI, Broadcast Domain> is responsible for advertising Ethernet Auto-discovery Route Per EVI(Type 1).
            <Ethernet Segment, EVI> is responsible for advertising Ethernet Auto-discovery Route Per Ethernet Segment(Type 1).
            <Ethernet Segment, EVI, Broadcast Domain, MAC/IP> is responsible for advertising MAC/IP Advertisement Route(Type 2).
            <Ethernet Segment, EVI, Broadcast Domain> is responsible for advertising Inclusive Multicast Ethernet Tag Route(Type 3).
            <Ethernet Segment> is responsible for advertising Ethernet Segment Route(Type 4).
          type: array
          items:
            $ref: './evpn/bgpevpnethernetsegmentv6.yaml#/components/schemas/Bgp.EvpnEthernetSegmentV6'

    Bgp.V6Interface:
      description: >-
        Configuration for emulated BGPv6 peers and routes on a single IPv6 interface.
      type: object
      required: [ipv6_name]
      properties:
        ipv6_name: 
          description: >-
            The unique name of IPv6 or Loopback IPv6 interface
            used as the source IP for this list of BGP peers.
          type: string
          x-constraint:
          - '/components/schemas/Device.Ipv6/properties/name'
          - '/components/schemas/Device.Ipv6Loopback/properties/name'
        peers:
          description: >-
            This contains the list of BGPv6 peers configured on this interface.
          type: array
          items:
            $ref: './bgpv6.yaml#/components/schemas/Bgp.V6Peer'