openapi: 3.1.0

info:
  title: Emulated protocol model
  version: 1.0.0

components:
  x-inline:
    ParentName: 
      description: >-
        The name of a device container or network container that is 
        the parent of this container. 
        Use this property to establish a hierarchical relationship between 
        device containers.
        A non-existent value indicates the device container is the 
        root of the hierarchy.  
      type: string
      pattern: ^[\sa-zA-Z0-9-_()><\[\]]+$

  schemas:
    Emulated.Protocol:
      description: >-
        An abstract container for emulated protocols.
      type: object
      required: [choice]
      properties:
        parent: '#/components/x-inline/ParentName'
        choice: 
          type: string
          enum: [ethernet, vlan, ipv4, bgpv4]
        ethernet:
          $ref: './ethernet.yaml#/components/schemas/Emulated.Ethernet'
        vlan:
          $ref: './vlan.yaml#/components/schemas/Emulated.Vlan'
        ipv4:
          $ref: './ipv4.yaml#/components/schemas/Emulated.Ipv4'
        bgpv4:
          $ref: './bgpv4.yaml#/components/schemas/Emulated.Bgpv4'
