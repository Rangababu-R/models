openapi: 3.1.0

info:
  title: Metrics models
  version: ^0.0.0

components:
  schemas:
    Metrics.Request:
      description: >-
        Request to traffic generator for metrics of choice
      type: object
      required: [choice]
      properties:
        choice:
          type: string
          enum:
            - port_metrics_request
            - flow_metrics_request
            - bgpv4_metrics_request
        port_metrics_request:
          $ref: './port.yaml#/components/schemas/Port.Metrics.Request'
        flow_metrics_request:
          $ref: './flow.yaml#/components/schemas/Flow.Metrics.Request'
        bgpv4_metrics_request:
          $ref: './bgpv4.yaml#/components/schemas/Bgpv4.Metrics.Request'

    Metrics.Response:
      description: >-
        Response containing chosen traffic generator metrics
      type: object
      required: [choice]
      properties:
        choice:
          type: string
          enum: [port_metrics, flow_metrics, bgpv4_metrics]
        port_metrics:
          $ref: './port.yaml#/components/schemas/Port.Metrics'
        flow_metrics:
          $ref: './flow.yaml#/components/schemas/Flow.Metrics'
        bgpv4_metrics:
          $ref: './bgpv4.yaml#/components/schemas/Bgpv4.Metrics'
