openapi: 3.1.0

info:
  title: Neighbor Discovery table models
  version: ^0.0.0

components:
  schemas:
    Nd.Entries.Request:
      description: >-
        The request to retrieve Neighbor Discovery entries for IPv6 interface(s).
      type: object
      properties:
        ipv6_names:
          description: >-
            The names of IPv6 interfaces for which ND entries will be retrieved.
            If no interface names are specified then the result set will contain all ND entries for all available IPv6 interfaces.
          type: array
          items:
            type: string
          x-constraint:
            - "/components/schemas/Device.Ipv6/properties/name"
        column_names:
          description: >-
            Name of the columns (as list), that will present in the returned result set.
            If the column names is empty then all columns will be returned.
            The column ipv6_name (the name of the IPv6 interface) will always be present in the returned result set.
          type: array
          items:
            type: string
            enum:
              - ipv6_name
              - neighbor_ip
              - link_layer_address

    Nd.Entries.Response:
      description: >-
        A container for Neighbor Discovery entries.
      type: object
      properties:
        resolved:
          description: >-
            Contains the Neighbor Discovery entries for which link-layer address (MAC) of the neighbor is already known.
          type: array
          items:
            $ref: './nd.yaml#/components/schemas/Nd.Entry'
        unresolved:
          description: >-
            Contains the Neighbor Discovery entries for which link-layer address (MAC) learning of the neighbor is still pending.
          type: array
          items:
            $ref: './nd.yaml#/components/schemas/Nd.Entry'

    Nd.Entry:
      description: >-
        Neighbor Discovery entry. For an IPv6 interface, a neighbor MAC information as learned through NDP.
      type: object
      properties:
        ipv6_name:
          description: >-
            The name of the IPv6 interface.
          type: string
        neighbor_ip:
          description: >-
            The IPv6 address of the neighbor node.
          type: string
          format: ipv6
        link_layer_address:
          description: >-
            The link-layer address (MAC) of the neighbor node.
            For an unresolved ND entry, value will be either empty or set to default MAC address.
          type: string
          format: mac
