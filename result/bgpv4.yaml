openapi: 3.1.0

info:
  title: BGPv4 results models
  version: ^0.0.0

components:
  schemas:
    Bgpv4.Metrics.Request:
      description: >-
        The request to retrieve BGPv4 per peer metrics/statistics.
      type: object
      properties:
        peer_names:
          description: >-
            The names of BGPv4 peers to return results for.
            An empty list will return results for all BGPv4 peers.
          type: array
          items:
            type: string
          x-constraint:
            - "/components/schemas/Bgp.V4peer/properties/name"
        column_names:
          description: >-
            The list of column names that the returned result set will contain.
            If the list is empty then all columns will be returned except for
            any result_groups. The name of the BGPv4 peer cannot be excluded.
          type: array
          items:
            type: string
            enum:
              - session_state
              - session_flap_count
              - routes_advertised
              - routes_received
              - route_withdraws_sent
              - route_withdraws_received    
              - updates_sent
              - updates_received
              - opens_sent
              - opens_received
              - keepalives_sent
              - keepalives_received
              - notifications_sent
              - notifications_received

    Bgpv4.Metric:
      description: >-
        BGPv4 per peer statistics information.
      type: object
      properties:
        name:
          description: >-
            The name of a configured BGPv4 peer.
          type: string
        session_state:
          description: >-
            Session state as up or down.
            Up refers to an Established state and Down refers to any
            other state.
          type: string
          enum: [up, down]
        session_flap_count:
          description: >-
            Number of times the session went from Up to Down state.
          type: integer
        routes_advertised:
          description: >-
            Number of routes advertised.
          type: integer
        routes_received:
          description: >-
            Number of routes received.
          type: integer
        route_withdraws_sent:
          description: >-
            Number of route withdraws sent.
          type: integer
        route_withdraws_received:
          description: >-
            Number of route withdraws received.
          type: integer
        updates_sent:
          description: >-
            Number of Update messages sent.
          type: integer
        updates_received:
          description: >-
            Number of Update messages received.
          type: integer
        opens_sent:
          description: >-
            Number of Open messages sent.
          type: integer
        opens_received:
          description: >-
            Number of Open messages received.
          type: integer
        keepalives_sent:
          description: >-
            Number of Keepalive messages sent.
          type: integer
        keepalives_received:
          description: >-
            Number of Keepalive messages received.
          type: integer
        notifications_sent:
          description: >-
            Number of Notification messages sent.
          type: integer
        notifications_received:
          description: >-
            Number of Notification messages received.
          type: integer