openapi: 3.1.0

info:
  title: Ipv4 ip priority models
  version: 1.0.1

components:
  schemas:
    Flow.Ipv4.Priority:
      description: >-
        Ipv4 ip priority that can be one of RAW or DSCP.
      type: object
      x-constants:
        PRIORITY_RAW: 0
      required: [choice]
      properties:
        choice:
          type: string
          enum: [dscp, raw]
        dscp:
          $ref: '#/components/schemas/Flow.Ipv4.Dscp'
        raw: 
          $ref: './patterns.yaml#/components/schemas/Flow.Pattern'

    Flow.Ipv4.Dscp:
      description: >-
        Differentiated services code point (DSCP) packet field.

        PHB (per-hop-behavior) value is 6 bits: >=0 PHB <=63.
        ECN (explicit-congestion-notification) value is 2 bits: >=0 ECN <=3
      type: object
      x-constants:
        phb_default: 0
        phb_cs1: 8
        phb_cs2: 16
        phb_cs3: 24
        phb_cs4: 32
        phb_cs5: 40
        phb_cs6: 48
        phb_cs7: 56
        phb_af11: 10
        phb_af12: 12
        phb_af13: 14
        phb_af21: 18
        phb_af22: 20
        phb_af23: 22
        phb_af31: 26
        phb_af32: 28
        phb_af33: 30
        phb_af41: 24
        phb_af42: 36
        phb_af43: 38
        phb_ef46: 46
        ecn_non_capable: 0
        ecn_capable_transport_0: 1
        ecn_capable_transport_1: 2
        ecn_congestion_encountered: 3
      properties:
        phb: 
          $ref: './patterns.yaml#/components/schemas/Flow.Pattern'
        ecn: 
          $ref: './patterns.yaml#/components/schemas/Flow.Pattern'
